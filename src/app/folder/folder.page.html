<ion-content [fullscreen]="true">

  <ng-template [ngIf]="folder === 'Menu'">

    <ion-header [translucent]="true">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>{{ folder }}</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-header collapse="condense">
      <ion-toolbar>
        <ion-title size="large">{{ folder }}</ion-title>
      </ion-toolbar>
    </ion-header>

      <ion-item href="/produtos/{{ cats.categoryId }}" detail *ngFor="let cats of categorys">
      <ion-label>
        {{ cats.categoryName }}
      </ion-label>
    </ion-item>
  </ng-template>

  <ng-template [ngIf]="folder === 'produtos'">

    <ion-header [translucent]="true" *ngFor="let cat of category">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>{{ cat.categoryName }}</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-item href="/produto/{{ product.categoryId }}/{{ product.productId }}" detail *ngFor="let product of products">
      <ion-label>
        {{ product.productName }}
      </ion-label>
    </ion-item>
  </ng-template>

  <ng-template [ngIf]="folder === 'produto'" *ngFor="let item of product">

    <ion-header [translucent]="true" *ngFor="let cat of category">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>{{ cat.categoryName }}</ion-title>
      </ion-toolbar>
    </ion-header>

  <ion-card class="ion-text-center">
    
    <ng-template [ngIf]="item.photo">
      <img width="100" src="{{ item.photo }}"/>
    </ng-template>

    <ng-template [ngIf]="!item.photo">
      <img width="125" src="https://stjohnbrittos.tk/writable/uploads/errors/no-image.png"/>
    </ng-template>

    <ion-card-content>
      <ion-card-title>
        {{ item.unity }} x {{ item.productName }}
      </ion-card-title>
    </ion-card-content>

    <ion-item>
      <ion-icon name='logo-usd' item-start style="color: #000000"></ion-icon>
        {{ item.price }}
    </ion-item>

    <ion-item>
      <ion-icon name='archive' item-start style="color: #000000"></ion-icon>
        Disponível: {{ item.quantity }}
    </ion-item>

    <ion-toolbar color="light">
      <ion-input [(ngModel)]="quantity" type="number"></ion-input>
      <ion-buttons slot="start">
        <ion-button (click)="remQuantity()">
          <ion-icon slot="icon-only" name="remove"></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-buttons slot="end">
        <ion-button (click)="addQuantity()">
          <ion-icon slot="icon-only" name="add"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>

    <section class="full-width">
      <ion-button (click)="addToCarrinho()" expand="full" color="secondary">Adionar ao carrinho</ion-button>
    </section>

  </ion-card>

  <pre>
    {{ carrinho | json }}
  </pre>

  </ng-template>

  <ng-template [ngIf]="folder === 'Carrinho'">

    <ion-header [translucent]="true">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>{{ folder }}</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-header collapse="condense">
      <ion-toolbar>
        <ion-title size="large">{{ folder }}</ion-title>
      </ion-toolbar>
    </ion-header>

    <ng-template [ngIf]="!cartIsEmpty">

      <ion-item *ngFor="let item of carrinho">
        <ion-label slot="start">
          {{ item.productName }} x {{ item.purchaseQtd }}
        </ion-label>
        <ion-label slot="end">
          R$ {{ item.total }}
        </ion-label>
      </ion-item>

      <section class="full-width">
        <ion-button (click)="storeToPedidos()" expand="full" color="secondary">Efetuar pedido</ion-button>
      </section>

    </ng-template>

    <ng-template [ngIf]="cartIsEmpty">

      <ion-item>
        Seu carrinho está vazio no momento !
      </ion-item>

    </ng-template>

    <pre>
      {{ carrinho | json }}
    </pre>

  </ng-template>

  <ng-template [ngIf]="folder === 'Meus-pedidos'">

    <ion-header [translucent]="true">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>{{ folder }}</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-header collapse="condense">
      <ion-toolbar>
        <ion-title size="large">{{ folder }}</ion-title>
      </ion-toolbar>
    </ion-header>

    <ng-template [ngIf]="!orderIsEmpty">

      <ion-item *ngFor="let item of pedido">
        <ion-label slot="start">
          {{ item.productName }} x {{ item.purchaseQtd }}
        </ion-label>
        <ion-label slot="end">
          R$ {{ item.total }}
        </ion-label>
      </ion-item>

    </ng-template>

    <ng-template [ngIf]="orderIsEmpty">

      <ion-card class="ion-text-center">
        <ion-item>
          Você ainda não tem pedidos !
        </ion-item>

        <section class="full-width">
          <ion-button (click)="check()" expand="full" color="secondary">Ver categorias de produtos</ion-button>
        </section>
      </ion-card>

    </ng-template>

    <pre>
      {{ pedido | json }}
    </pre>

  </ng-template>

</ion-content>
